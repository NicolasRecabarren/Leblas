"use strict";function toggleMobileMenu(){var e=jQuery(".main-menu-icon");jQuery(e).toggleClass("menu-opened"),jQuery(e).hasClass("menu-opened")?jQuery("#mainmenu").show(350):jQuery("#mainmenu").hide(400)}function loadGalleryItemHtml(e,t){var n=jQuery("#gallery_container");jQuery.ajax({url:e,success:function(e){n.html(e).attr("data-item-number",t),n.stop().animate({top:0},1e3,"easeOutExpo")},statusCode:{404:function(){alert("Gallery Item Page not Found"),closeGalleryContainer()}}})}function closeGalleryContainer(e,t){jQuery("#gallery_container").stop().animate({top:"-100%"},800,"easeOutExpo",function(){jQuery(this).html("").css({display:"none"})})}jQuery(document).ready(function(){var e=jQuery(window).width();jQuery(window).resize(function(){e=jQuery(window).width()}),jQuery(".sf-menu ul li").mouseover(function(){if(jQuery(this).find(".nav-child").length>0){var t=jQuery(this).find(".nav-child").width();if(jQuery(this).find(".nav-child").parent().offset().left+t+t>e){var n=t+3;$(this).find(".nav-child").first().css({left:-n})}}}),jQuery(".main-menu-icon").on("click",toggleMobileMenu),jQuery("#mainmenu a").on("click",toggleMobileMenu),jQuery("form.contact-form").on("submit",function(e){e.preventDefault();var t=jQuery(this),n=t.serialize();jQuery(t).find("p.contact-form-respond").remove();jQuery.post("contact-form.php",n).done(function(e){jQuery(t).find('[type="submit"]').attr("disabled",!1).parent().prepend('<p class="contact-form-respond highlight">'+e+"</p>")}).fail(function(e){jQuery(t).find('[type="submit"]').attr("disabled",!1).parent().prepend("<p>Mail cannot be sent.</p>")})}),jQuery("#signup").on("submit",function(e){e.preventDefault(),jQuery("#response").html("Adding email address..."),jQuery.ajax({url:"mailchimp/store-address.php",data:"ajax=true&email="+escape(jQuery("#mailchimp_email").val()),success:function(e){jQuery("#response").html(e)}})});var t=jQuery("#gallery_container"),n=jQuery("#portfolioContainer li");t.attr("data-items-num",n.length),jQuery.each(n,function(e,t){jQuery(this).find("a.p-link").attr("data-count",e+1)}),t.on("click","a#portfolio_close_project",function(e){e.preventDefault(),closeGalleryContainer()}).on("click","a#portfolio_prev_project",function(e){e.preventDefault();var t=jQuery("#gallery_container"),n=t.attr("data-item-number"),a=t.attr("data-items-num");if(1==n)i=a;else var i=n-1;var o="gallery-single"+i+".html";t.find("section").stop().animate({opacity:0},300,function(){t.html(""),loadGalleryItemHtml(o,i)})}).on("click","a#portfolio_next_project",function(e){e.preventDefault();var t=jQuery("#gallery_container"),n=t.attr("data-item-number");if(n==t.attr("data-items-num"))a=1;else var a=parseInt(n)+1;var i="gallery-single"+a+".html";t.find("section").stop().animate({opacity:0},300,function(){t.html(""),loadGalleryItemHtml(i,a)})}),jQuery("#portfolio a.p-link, #portfolio h4 a").on("click",function(e){e.preventDefault(),jQuery("#gallery_container").css({display:"block"});var t=jQuery(this).attr("href");if(jQuery(this).hasClass("p-link"))n=jQuery(this).attr("data-count");else var n=jQuery(this).closest("li").find("a.p-link").attr("data-count");loadGalleryItemHtml(t,n)})}),function(e){e(window).resize(function(){e(window).width()});var t=e("#portfolioContainer");t.imagesLoaded(function(){t.isotope({layoutMode:"fitRows",animationEngine:"best-available",animationOptions:{queue:!1,duration:800},onLayout:function(){jQuery("body").scrollspy("refresh")}})}),e("#filtros a").on("click",function(n){var a=e(this).attr("data-filter");t.isotope({filter:a,layoutMode:"fitRows"}),n.preventDefault()}),e("#filtros li").find("a").on("click",function(n){var a=e(this);a.hasClass("selected")&&n.preventDefault();var i=a.parents("#filtros");i.find(".selected").removeClass("selected"),a.addClass("selected");var o={},r=i.attr("data-option-key"),l=a.attr("data-option-value");l="false"!==l&&l,o[r]=l,"layoutMode"===r&&"function"==typeof changeLayoutMode?changeLayoutMode(a,o):t.isotope(o),n.preventDefault()})}(jQuery);